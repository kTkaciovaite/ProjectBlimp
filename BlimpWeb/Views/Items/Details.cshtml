<div class="clearfix container body-content products">
    <h1 class="text-center page-title">PRODUCT</h1>
    <div class="col-md-2"></div>
    <div class="clearfix col-md-8">
        <div class="col-md-6 pull-left">
            <img src="{{ vm.item.Image }}" alt=""/>
        </div>
        <div class="col-md-6 pull-right">
            <h2>{{ vm.item.Name }}</h2>
            <small>{{ vm.item.DateUpDated | date:"yyyy-dd-MM HH':'m" }}</small>

            <div class="text-center">
                <h2 class="price">{{ vm.item.Price }} &euro;</h2>

                <div class="buttons">
                    <a class="btn btn-default" href="/Items"><i class="glyphicon glyphicon-chevron-left"></i> Back to List</a>
                    <a class="btn btn-default" ng-click="vm.addItem(vm.item)" type="button" role="button" href="/Cart">Add to cart <i class="glyphicon glyphicon-shopping-cart"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-2"></div>
</div>

<div class="clearfix container rating-form">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <h2 class="text-center">RATE THIS PRODUCT</h2>

        <form name="form-review" ng-controller="ratingsListController as nm" ng-submit="nm.save()">
            <p style="display: none;" name="itemid" ng-model="nm.review.ItemId = vm.item.Id"></p>
            <div class="text-center" ng-controller="itemRatingController">
                <div class="rating" uib-rating ng-model="rate" max="max" read-only="isReadonly" on-hover="hoveringOver(value)" on-leave="overStar = null" rating-value="rating.current" aria-labelledby="default-rating" name="stars" ng-model="nm.review.Stars=rating-value"></div>

                <div class="text-center rating-inputs">
                    <input type="text" class="form-control rating-input" name="name" placeholder="Enter your name" Required ng-model="nm.review.Name"/>
                    <textarea class="form-control rating-input" placeholder="Write your review" name="review" Required ng-model="nm.review.Review"></textarea>
                </div>

                <button type="submit" class="btn btn-default">Submit</button>
            </div>
        </form>
    </div>
</div>

<div class="clearfix container">
    <div class="col-md-3"></div>
    <div class="col-md-6" ng-controller="ratingsListController as nm">
        <h2 class="text-center reviews-heading">CUSTOMER REVIEWS</h2>
        <div ng-repeat="rating in nm.ratings">
            <div ng-if="vm.item.Id === rating.ItemId">
                <h3>{{ rating.Name }}
                    <span>
                        <i ng-if="rating.Stars >= 1" class="glyphicon glyphicon-star glyphicon-small"></i>
                        <i ng-if="rating.Stars >= 2" class="glyphicon glyphicon-star glyphicon-small"></i>
                        <i ng-if="rating.Stars >= 3" class="glyphicon glyphicon-star glyphicon-small"></i>
                        <i ng-if="rating.Stars >= 4" class="glyphicon glyphicon-star glyphicon-small"></i>
                        <i ng-if="rating.Stars === 5" class="glyphicon glyphicon-star glyphicon-small"></i>
                    </span>
                </h3>
                <p class="review">{{ rating.Review }}</p>
            </div>
        </div>
    </div>
</div>